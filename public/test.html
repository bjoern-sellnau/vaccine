<!DOCTYPE html>
<html>
  <head>
    <title>Vaccine.js</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:800" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/easydemo.css">
    <link rel="stylesheet" type="text/css" href="/styles.css">
  </head>
  <body>
    <a style="position: absolute; left: -12px; top: -12px; border: 0;" href="https://github.com/jakesandlund/vaccine"><img src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png" alt="Fork me on GitHub"></a>
    <header><h1>Vaccine.js</h1></header>
    <div id="sizes-container">
      <div id="sizes">
        <div class="shot-container">
          <img class="shot" src="/shot.png" alt="Vaccine shot">
          <div class="shot current"></div>
          <div class="shot saved"></div>
        </div>
        <div class="info">
        </div>
      </div>
    </div>
    <div id="base">
      <div id="config">
        <div id="defaults" class="group">
          <div class="title">Defaults <span class="hint">for format</span></div>
          <div class="controls">
            <input id="amd" type="button" value="AMD">
            <input id="commonjs" type="button" value="CommonJS">
            <input id="umd" type="button" value="UMD">
          </div>
        </div>
        <div id="format" class="group">
          <div class="title">Format</div>
          <div class="controls">
            <label><input type="radio" name="format" value="amd">AMD</label>
            <label><input type="radio" name="format" value="commonjs">CommonJS</label>
            <label><input type="radio" name="format" value="umd">UMD</label>
          </div>
        </div>
        <div id="require" class="group">
          <div class="title">Require <span class="hint">other modules</span></div>
          <div class="inputs">
            <label><input type="checkbox" name="require" value="absolute">absolute id ("my_lib/module")</label>
            <label><input type="checkbox" name="require" value="single">single relative ("./module")</label>
            <label><input type="checkbox" name="require" value="full">full relative</label>
            <label><input type="checkbox" name="require" value="index">w/o index ("pkg/index" -&gt; "pkg")</label>
          </div>
        </div>
        <div id="exports" class="group">
          <div class="title">Export <span class="hint">a module's API</span></div>
          <div class="inputs">
            <label><input type="checkbox" name="exports" value="exports">exports</label>
            <label><input type="checkbox" name="exports" value="module">module.exports</label>
            <label><input type="checkbox" name="exports" value="return">return</label>
          </div>
        </div>
        <div id="supports" class="group">
          <div class="title">Supports <span class="hint">these environments</span></div>
          <div class="inputs">
            <label><input type="checkbox" name="supports" value="window">window</label>
            <label><input type="checkbox" name="supports" value="amd">AMD</label>
            <label><input type="checkbox" name="supports" value="commonjs">CommonJS</label>
          </div>
        </div>
        <div id="define" class="group">
          <div class="title">Define <span class="hint">(AMD)</span></div>
          <div class="inputs">
            <label><input type="checkbox" name="define" value="optional_id">optional id ("define(id?, ...)")</label>
            <label><input type="checkbox" name="define" value="array" disabled="disabled">array ("define([requires], ...)")</label>
          </div>
        </div>
        <div id="controls" class="group controls">
          <div class="title">Controls</div>
          <div class="controls">
            <input id="save" type="button" value="Save">
            <input id="swap" type="button" value="Swap">
            <div class="button" id="diff"><em>Diff</em> with saved</div>
          </div>
        </div>
        <div class="group" id="variables">
          <div class="title">Project Variables</div>
          <div class="inputs">
            <label>Name<input type="text" name="name"></label>
            <label>Main (entry file)<input type="text" name="main"></label>
            <label>Dependencies<input type="text" name="dependencies"></label>
          </div>
        </div>
        <div id="targets" class="group">
          <div class="title">Targets</div>
          <div class="inputs">
            <label><input type="checkbox" name="targets" value="vaccine.js">vaccine.js</label>
            <label><input type="checkbox" name="targets" value="umd.js">umd.js</label>
            <label><input type="checkbox" name="targets" value="build.sh">build.sh</label>
            <label><input type="checkbox" name="targets" value="Makefile">Makefile</label>
            <label><input type="checkbox" name="targets" value="vaccine_dev.js">vaccine_dev.js</label>
            <label><input type="checkbox" name="targets" value="dev_server.js">dev_server.js</label>
          </div>
        </div>
        <div class="group">
          <div class="title">Debugging</div>
          <div class="inputs">
            <label><input type="checkbox" name="debugging" value="debug">debug</label>
            <label><input type="checkbox" name="debugging" value="performance">performance</label>
            <label><input type="checkbox" name="debugging" value="use_strict">"use strict";</label>
          </div>
        </div>
        <div class="group">
          <div class="title">Variable Overrides</div>
          <div class="inputs">
            <label>Source directory<input type="text" name="src"></label>
            <label>Global variable name<input type="text" name="global"></label>
          </div>
        </div>
        <div class="group">
          <div class="title">*Note</div>
          <div class="inputs">Gzipped size calculated by gzipping various
            vaccine.js versions with a 4.8k sized library.</div>
        </div>
      </div>
      <div id="main">
        <div id="demo-text">
<p>Vaccine generates shims to make
<a href="http://wiki.commonjs.org/wiki/Modules/1.1">CommonJS</a>
(<a href="http://nodejs.org/api/modules.html">Node.js</a>) or
<a href="https://github.com/amdjs/amdjs-api/wiki/AMD">AMD</a> modules
work in the browser. It is similar to
<a href="https://github.com/sstephenson/stitch">Stitch</a>, or a subset of
<a href="https://github.com/substack/node-browserify">Browserify</a> and
<a href="https://github.com/jrburke/almond">Almond</a>, except that Vaccine
is configurable.</p>

<p>Configurability allows the shims to be <signal>small</signal> by including
only the required functionality. A small size is especially important for
libraries.</p>

<p>Larger projects may not be as concerned about size, but
instead need more functionality.</p>

<p>The canonical example of reducing size via configurability is for projects
that have only one directory of source files (no subdirectories). Having one
level of sources simplifies the require implementation considerably.</p>

<p>To use Vaccine, first set the options in the <signal>right panel</signal>.
The <signal>shim</signal> will <strong>instantly adjust</strong> to
changes.</p>

<p>All options can be selected in any combination. However, certain
combinations of options do not work, and are marked in red. A <signal>fix
it</signal> link can be used to correct the problem.</p>

<p>The <signal>defaults</signal> buttons set sensible defaults for each
format, which helps to avoid incorrect combinations.</p>

<p>Use the <signal>diff button</signal> to compare between the current
and <signal>saved</signal> configuration. The <signal>size</signal> shows
the amount added or removed.</p>

<p>Enter your project's <signal>name</signal>, <signal>main file</signal>,
and <signal>dependencies</signal> to make the shim work for your project.</p>

<p>
After setting the options as desired, copy <signal>vaccine.js</signal> and
<signal>build.sh</signal> to your project's root directory. When you are ready to
build, run <code>sh build.sh &gt; my_built_file.js</code>. Note that all
source code, and only source code, must be in a separate directory for the
tiny build script to work.</p>

<p>Use the <a href="https://github.com/umdjs/umd">UMD</a> format for single
file projects&mdash;no build required.</p>

<p>For development, the <signal>vaccine_dev.js</signal> version can be placed
before script tags for all the modules (in any order). Call
<code>requireDev()</code> to get the project's global.</p>

<p>The name "vaccine" comes from the analogy that the shims are injected into
the code like the virus used in a vaccine, and that they are
a temporary treatment until the
<a href="http://wiki.ecmascript.org/doku.php?id=harmony:modules">Harmony modules</a>
"cure" arrives.
</p>
        </div>
        <div id="sources"></div>
      </div>
      <div class="clear"></div>
    </div>
    <footer>Copyright 2012 <a href="http://jakesandlund.com">Jake Sandlund</a></footer>

    <script src="/d3.js"></script>

    <!-- DEVELOPMENT -->
    <script src="/vaccine.js"></script>
    <!-- /DEVELOPMENT -->
    <!-- PRODUCTION -->

  </body>
</html>
